/* layer-v3.1.1 Web弹层组件 MIT License  http://layer.layui.com/  By 贤心 */
!function(g,v){var j,m,b=g.layui&&layui.define,p={getPath:function(){var a=document.currentScript?document.currentScript.src:function(){for(var c,o=document.scripts,f=o.length-1,l=f;l>0;l--){if("interactive"===o[l].readyState){c=o[l].src;break}}return c||o[f].src}();return a.substring(0,a.lastIndexOf("/")+1)}(),config:{},end:{},minIndex:0,minLeft:[],btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"],getStyle:function(e,a){var c=e.currentStyle?e.currentStyle:g.getComputedStyle(e,null);return c[c.getPropertyValue?"getPropertyValue":"getAttribute"](a)},link:function(A,w,y){if(q.path){var e=document.getElementsByTagName("head")[0],z=document.createElement("link");"string"==typeof w&&(y=w);var x=(y||A).replace(/\.|\//g,""),r="layuicss-"+x,o=0;z.rel="stylesheet",z.href=q.path+A,z.id=r,document.getElementById(r)||e.appendChild(z),"function"==typeof w&&!function B(){return ++o>80?g.console&&console.error("layer.css: Invalid"):void (1989===parseInt(p.getStyle(document.getElementById(r),"width"))?w():setTimeout(B,100))}()}}},q={v:"3.1.1",ie:function(){var a=navigator.userAgent.toLowerCase();return !!(g.ActiveXObject||"ActiveXObject" in g)&&((a.match(/msie\s(\d+)/)||[])[1]||"11")}(),index:g.layer&&g.layer.v?100000:0,path:p.getPath,config:function(a,c){return a=a||{},q.cache=p.config=j.extend({},p.config,a),q.path=p.config.path||q.path,"string"==typeof a.extend&&(a.extend=[a.extend]),p.config.path&&q.ready(),a.extend?(b?layui.addcss("modules/layer/"+a.extend):p.link("theme/"+a.extend),this):this},ready:function(a){var l="layer",c="",f=(b?"modules/layer/":"theme/")+"default/layer.css?v="+q.v+c;return b?layui.addcss(f,a,l):p.link(f,a,l),this},alert:function(f,l,i){var c="function"==typeof l;return c&&(i=l),q.open(j.extend({content:f,yes:i},c?{}:l))},confirm:function(f,o,i,c){var l="function"==typeof o;return l&&(c=i,i=o),q.open(j.extend({content:f,btn:p.btn,yes:i,btn2:c},l?{}:o))},msg:function(o,t,i){var w="function"==typeof t,r=p.config.skin,l=(r?r+" "+r+"-msg":"")||"layui-layer-msg",x=k.anim.length-1;return w&&(i=t),q.open(j.extend({content:o,time:3000,shade:!1,skin:l,title:!1,closeBtn:!1,btn:!1,resize:!1,end:i},w&&!p.config.skin?{skin:l+" layui-layer-hui",anim:x}:function(){return t=t||{},(t.icon===-1||t.icon===v&&!p.config.skin)&&(t.skin=l+" "+(t.skin||"layui-layer-hui")),t}()))},load:function(a,c){return q.open(j.extend({type:3,icon:a||0,resize:!1,shade:0.01},c))},tips:function(a,f,c){return q.open(j.extend({type:4,content:[a,f],closeBtn:!1,time:3000,shade:!1,resize:!1,fixed:!1,maxWidth:210},c))}},u=function(a){var c=this;c.index=++q.index,c.config=j.extend({},c.config,p.config,a),document.body?c.creat():setTimeout(function(){c.creat()},30)};u.pt=u.prototype;var k=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];k.anim=["layer-anim-00","layer-anim-01","layer-anim-02","layer-anim-03","layer-anim-04","layer-anim-05","layer-anim-06"],u.pt.config={type:0,shade:0.3,fixed:!0,move:k[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,anim:0,isOutAnim:!0,icon:-1,moveType:1,resize:!0,scrollbar:!0,tips:2},u.pt.vessel=function(o,A){var x=this,i=x.index,y=x.config,z=y.zIndex+i,w="object"==typeof y.title,l=y.maxmin&&(1===y.type||2===y.type),B=y.title?'<div class="layui-layer-title" style="'+(w?y.title[1]:"")+'">'+(w?y.title[0]:y.title)+"</div>":"";return y.zIndex=z,A([y.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+i+'" times="'+i+'" style="'+("z-index:"+(z-1)+"; ")+'"></div>':"",'<div class="'+k[0]+(" layui-layer-"+p.type[y.type])+(0!=y.type&&2!=y.type||y.shade?"":" layui-layer-border")+" "+(y.skin||"")+'" id="'+k[0]+i+'" type="'+p.type[y.type]+'" times="'+i+'" showtime="'+y.time+'" conType="'+(o?"object":"string")+'" style="z-index: '+z+"; width:"+y.area[0]+";height:"+y.area[1]+(y.fixed?"":";position:absolute;")+'">'+(o&&2!=y.type?"":B)+'<div id="'+(y.id||"")+'" class="layui-layer-content'+(0==y.type&&y.icon!==-1?" layui-layer-padding":"")+(3==y.type?" layui-layer-loading"+y.icon:"")+'">'+(0==y.type&&y.icon!==-1?'<i class="layui-layer-ico layui-layer-ico'+y.icon+'"></i>':"")+(1==y.type&&o?"":y.content||"")+'</div><span class="layui-layer-setwin">'+function(){var a=l?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"";return y.closeBtn&&(a+='<a class="layui-layer-ico '+k[7]+" "+k[7]+(y.title?y.closeBtn:4==y.type?"1":"2")+'" href="javascript:;"></a>'),a}()+"</span>"+(y.btn?function(){var a="";"string"==typeof y.btn&&(y.btn=[y.btn]);for(var f=0,c=y.btn.length;f<c;f++){a+='<a class="'+k[6]+f+'">'+y.btn[f]+"</a>"}return'<div class="'+k[6]+" layui-layer-btn-"+(y.btnAlign||"")+'">'+a+"</div>"}():"")+(y.resize?'<span class="layui-layer-resize"></span>':"")+"</div>"],B,j('<div class="layui-layer-move"></div>')),x},u.pt.creat=function(){var n=this,w=n.config,i=n.index,r=w.content,o="object"==typeof r,l=j("body");if(!w.id||!j("#"+w.id)[0]){switch("string"==typeof w.area&&(w.area="auto"===w.area?["",""]:[w.area,""]),w.shift&&(w.anim=w.shift),6==q.ie&&(w.fixed=!1),w.type){case 0:w.btn="btn" in w?w.btn:p.btn[0],q.closeAll("dialog");break;case 2:var r=w.content=o?w.content:[w.content||"http://layer.layui.com","auto"];w.content='<iframe scrolling="'+(w.content[1]||"auto")+'" allowtransparency="true" id="'+k[4]+i+'" name="'+k[4]+i+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+w.content[0]+'"></iframe>';break;case 3:delete w.title,delete w.closeBtn,w.icon===-1&&0===w.icon,q.closeAll("loading");break;case 4:o||(w.content=[w.content,"body"]),w.follow=w.content[1],w.content=w.content[0]+'<i class="layui-layer-TipsG"></i>',delete w.title,w.tips="object"==typeof w.tips?w.tips:[w.tips,!0],w.tipsMore||q.closeAll("tips")}if(n.vessel(o,function(a,c,e){l.append(a[0]),o?function(){2==w.type||4==w.type?function(){j("body").append(a[1])}():function(){r.parents("."+k[0])[0]||(r.data("display",r.css("display")).show().addClass("layui-layer-wrap").wrap(a[1]),j("#"+k[0]+i).find("."+k[5]).before(c))}()}():l.append(a[1]),j(".layui-layer-move")[0]||l.append(p.moveElem=e),n.layero=j("#"+k[0]+i),w.scrollbar||k.html.css("overflow","hidden").attr("layer-full",i)}).auto(i),j("#layui-layer-shade"+n.index).css({"background-color":w.shade[1]||"#000",opacity:w.shade[0]||w.shade}),2==w.type&&6==q.ie&&n.layero.find("iframe").attr("src",r[0]),4==w.type?n.tips():n.offset(),w.fixed&&m.on("resize",function(){n.offset(),(/^\d+%$/.test(w.area[0])||/^\d+%$/.test(w.area[1]))&&n.auto(i),4==w.type&&n.tips()}),w.time<=0||setTimeout(function(){q.close(n.index)},w.time),n.move().callback(),k.anim[w.anim]){var x="layer-anim "+k.anim[w.anim];n.layero.addClass(x).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){j(this).removeClass(x)})}w.isOutAnim&&n.layero.data("isOutAnim",!0)}},u.pt.auto=function(n){var y=this,i=y.config,w=j("#"+k[0]+n);""===i.area[0]&&i.maxWidth>0&&(q.ie&&q.ie<8&&i.btn&&w.width(w.innerWidth()),w.outerWidth()>i.maxWidth&&w.width(i.maxWidth));var x=[w.innerWidth(),w.innerHeight()],r=w.find(k[1]).outerHeight()||0,l=w.find("."+k[6]).outerHeight()||0,z=function(a){a=w.find(a),a.height(x[1]-r-l-2*(0|parseFloat(a.css("padding-top"))))};switch(i.type){case 2:z("iframe");break;default:""===i.area[1]?i.maxHeight>0&&w.outerHeight()>i.maxHeight?(x[1]=i.maxHeight,z("."+k[5])):i.fixed&&x[1]>=m.height()&&(x[1]=m.height(),z("."+k[5])):z("."+k[5])}return y},u.pt.offset=function(){var f=this,r=f.config,l=f.layero,c=[l.outerWidth(),l.outerHeight()],n="object"==typeof r.offset;f.offsetTop=(m.height()-c[1])/2,f.offsetLeft=(m.width()-c[0])/2,n?(f.offsetTop=r.offset[0],f.offsetLeft=r.offset[1]||f.offsetLeft):"auto"!==r.offset&&("t"===r.offset?f.offsetTop=0:"r"===r.offset?f.offsetLeft=m.width()-c[0]:"b"===r.offset?f.offsetTop=m.height()-c[1]:"l"===r.offset?f.offsetLeft=0:"lt"===r.offset?(f.offsetTop=0,f.offsetLeft=0):"lb"===r.offset?(f.offsetTop=m.height()-c[1],f.offsetLeft=0):"rt"===r.offset?(f.offsetTop=0,f.offsetLeft=m.width()-c[0]):"rb"===r.offset?(f.offsetTop=m.height()-c[1],f.offsetLeft=m.width()-c[0]):f.offsetTop=r.offset),r.fixed||(f.offsetTop=/%$/.test(f.offsetTop)?m.height()*parseFloat(f.offsetTop)/100:parseFloat(f.offsetTop),f.offsetLeft=/%$/.test(f.offsetLeft)?m.width()*parseFloat(f.offsetLeft)/100:parseFloat(f.offsetLeft),f.offsetTop+=m.scrollTop(),f.offsetLeft+=m.scrollLeft()),l.attr("minLeft")&&(f.offsetTop=m.height()-(l.find(k[1]).outerHeight()||0),f.offsetLeft=l.css("left")),l.css({top:f.offsetTop,left:f.offsetLeft})},u.pt.tips=function(){var n=this,A=n.config,i=n.layero,x=[i.outerWidth(),i.outerHeight()],y=j(A.follow);y[0]||(y=j("body"));var z={width:y.outerWidth(),height:y.outerHeight(),top:y.offset().top,left:y.offset().left},w=i.find(".layui-layer-TipsG"),l=A.tips[0];A.tips[1]||w.remove(),z.autoLeft=function(){z.left+x[0]-m.width()>0?(z.tipLeft=z.left+z.width-x[0],w.css({right:12,left:"auto"})):z.tipLeft=z.left},z.where=[function(){z.autoLeft(),z.tipTop=z.top-x[1]-10,w.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",A.tips[1])},function(){z.tipLeft=z.left+z.width+10,z.tipTop=z.top,w.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",A.tips[1])},function(){z.autoLeft(),z.tipTop=z.top+z.height+10,w.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",A.tips[1])},function(){z.tipLeft=z.left-x[0]-10,z.tipTop=z.top,w.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",A.tips[1])}],z.where[l-1](),1===l?z.top-(m.scrollTop()+x[1]+16)<0&&z.where[2]():2===l?m.width()-(z.left+z.width+x[0]+16)>0||z.where[3]():3===l?z.top-m.scrollTop()+z.height+x[1]+16-m.height()>0&&z.where[0]():4===l&&x[0]+16-z.left>0&&z.where[1](),i.find("."+k[5]).css({"background-color":A.tips[1],"padding-right":A.closeBtn?"30px":""}),i.css({left:z.tipLeft-(A.fixed?m.scrollLeft():0),top:z.tipTop-(A.fixed?m.scrollTop():0)})},u.pt.move=function(){var o=this,y=o.config,i=j(document),x=o.layero,w=x.find(y.move),r=x.find(".layui-layer-resize"),n={};return y.move&&w.css("cursor","move"),w.on("mousedown",function(a){a.preventDefault(),y.move&&(n.moveStart=!0,n.offset=[a.clientX-parseFloat(x.css("left")),a.clientY-parseFloat(x.css("top"))],p.moveElem.css("cursor","move").show())}),r.on("mousedown",function(a){a.preventDefault(),n.resizeStart=!0,n.offset=[a.clientX,a.clientY],n.area=[x.outerWidth(),x.outerHeight()],p.moveElem.css("cursor","se-resize").show()}),i.on("mousemove",function(s){if(n.moveStart){var c=s.clientX-n.offset[0],z=s.clientY-n.offset[1],t="fixed"===x.css("position");if(s.preventDefault(),n.stX=t?0:m.scrollLeft(),n.stY=t?0:m.scrollTop(),!y.moveOut){var e=m.width()-x.outerWidth()+n.stX,A=m.height()-x.outerHeight()+n.stY;c<n.stX&&(c=n.stX),c>e&&(c=e),z<n.stY&&(z=n.stY),z>A&&(z=A)}x.css({left:c,top:z})}if(y.resize&&n.resizeStart){var c=s.clientX-n.offset[0],z=s.clientY-n.offset[1];s.preventDefault(),q.style(o.index,{width:n.area[0]+c,height:n.area[1]+z}),n.isResize=!0,y.resizing&&y.resizing(x)}}).on("mouseup",function(a){n.moveStart&&(delete n.moveStart,p.moveElem.hide(),y.moveEnd&&y.moveEnd(x)),n.resizeStart&&(delete n.resizeStart,p.moveElem.hide())}),o},u.pt.callback=function(){function f(){var a=c.cancel&&c.cancel(l.index,i);a===!1||q.close(l.index)}var l=this,i=l.layero,c=l.config;l.openLayer(),c.success&&(2==c.type?i.find("iframe").on("load",function(){c.success(i,l.index)}):c.success(i,l.index)),6==q.ie&&l.IE6(i),i.find("."+k[6]).children("a").on("click",function(){var a=j(this).index();if(0===a){c.yes?c.yes(l.index,i):c.btn1?c.btn1(l.index,i):q.close(l.index)}else{var n=c["btn"+(a+1)]&&c["btn"+(a+1)](l.index,i);n===!1||q.close(l.index)}}),i.find("."+k[7]).on("click",f),c.shadeClose&&j("#layui-layer-shade"+l.index).on("click",function(){q.close(l.index)}),i.find(".layui-layer-min").on("click",function(){var a=c.min&&c.min(i);a===!1||q.min(l.index,c)}),i.find(".layui-layer-max").on("click",function(){j(this).hasClass("layui-layer-maxmin")?(q.restore(l.index),c.restore&&c.restore(i)):(q.full(l.index,c),setTimeout(function(){c.full&&c.full(i)},100))}),c.end&&(p.end[l.index]=c.end)},p.reselect=function(){j.each(j("select"),function(a,f){var c=j(this);c.parents("."+k[0])[0]||1==c.attr("layer")&&j("."+k[0]).length<1&&c.removeAttr("layer").show(),c=null})},u.pt.IE6=function(a){j("select").each(function(c,i){var f=j(this);f.parents("."+k[0])[0]||"none"===f.css("display")||f.attr({layer:"1"}).hide(),f=null})},u.pt.openLayer=function(){var a=this;q.zIndex=a.config.zIndex,q.setTop=function(c){var f=function(){q.zIndex++,c.css("z-index",q.zIndex+1)};return q.zIndex=parseInt(c[0].style.zIndex),c.on("mousedown",f),q.zIndex}},p.record=function(a){var c=[a.width(),a.height(),a.position().top,a.position().left+parseFloat(a.css("margin-left"))];a.find(".layui-layer-max").addClass("layui-layer-maxmin"),a.attr({area:c})},p.rescollbar=function(a){k.html.attr("layer-full")==a&&(k.html[0].style.removeProperty?k.html[0].style.removeProperty("overflow"):k.html[0].style.removeAttribute("overflow"),k.html.removeAttr("layer-full"))},g.layer=q,q.getChildFrame=function(a,c){return c=c||j("."+k[4]).attr("times"),j("#"+k[0]+c).find("iframe").contents().find(a)},q.getFrameIndex=function(a){return j("#"+a).parents("."+k[4]).attr("times")},q.iframeAuto=function(f){if(f){var r=q.getChildFrame("html",f).outerHeight(),i=j("#"+k[0]+f),c=i.find(k[1]).outerHeight()||0,l=i.find("."+k[6]).outerHeight()||0;i.css({height:r+c+l}),i.find("iframe").css({height:r})}},q.iframeSrc=function(a,c){j("#"+k[0]+a).find("iframe").attr("src",c)},q.style=function(o,A,x){var i=j("#"+k[0]+o),y=i.find(".layui-layer-content"),z=i.attr("type"),w=i.find(k[1]).outerHeight()||0,l=i.find("."+k[6]).outerHeight()||0;i.attr("minLeft");z!==p.type[3]&&z!==p.type[4]&&(x||(parseFloat(A.width)<=260&&(A.width=260),parseFloat(A.height)-w-l<=64&&(A.height=64+w+l)),i.css(A),l=i.find("."+k[6]).outerHeight(),z===p.type[2]?i.find("iframe").css({height:parseFloat(A.height)-w-l}):y.css({height:parseFloat(A.height)-w-l-parseFloat(y.css("padding-top"))-parseFloat(y.css("padding-bottom"))}))},q.min=function(n,w){var i=j("#"+k[0]+n),r=i.find(k[1]).outerHeight()||0,o=i.attr("minLeft")||181*p.minIndex+"px",l=i.css("position");p.record(i),p.minLeft[0]&&(o=p.minLeft[0],p.minLeft.shift()),i.attr("position",l),q.style(n,{width:180,height:r,left:o,top:m.height()-r,position:"fixed",overflow:"hidden"},!0),i.find(".layui-layer-min").hide(),"page"===i.attr("type")&&i.find(k[4]).hide(),p.rescollbar(n),i.attr("minLeft")||p.minIndex++,i.attr("minLeft",o)},q.restore=function(a){var f=j("#"+k[0]+a),c=f.attr("area").split(",");f.attr("type");q.style(a,{width:parseFloat(c[0]),height:parseFloat(c[1]),top:parseFloat(c[2]),left:parseFloat(c[3]),position:f.attr("position"),overflow:"visible"},!0),f.find(".layui-layer-max").removeClass("layui-layer-maxmin"),f.find(".layui-layer-min").show(),"page"===f.attr("type")&&f.find(k[4]).show(),p.rescollbar(a)},q.full=function(f){var i,c=j("#"+k[0]+f);p.record(c),k.html.attr("layer-full")||k.html.css("overflow","hidden").attr("layer-full",f),clearTimeout(i),i=setTimeout(function(){var a="fixed"===c.css("position");q.style(f,{top:a?0:m.scrollTop(),left:a?0:m.scrollLeft(),width:m.width(),height:m.height()},!0),c.find(".layui-layer-min").hide()},100)},q.title=function(a,f){var c=j("#"+k[0]+(f||q.index)).find(k[1]);c.html(a)},q.close=function(i){var w=j("#"+k[0]+i),o=w.attr("type"),c="layer-anim-close";if(w[0]){var r="layui-layer-wrap",l=function(){if(o===p.type[1]&&"object"===w.attr("conType")){w.children(":not(."+k[5]+")").remove();for(var e=w.find("."+r),t=0;t<2;t++){e.unwrap()}e.css("display",e.data("display")).removeClass(r)}else{if(o===p.type[2]){try{var s=j("#"+k[4]+i)[0];s.contentWindow.document.write(""),s.contentWindow.close(),w.find("."+k[5])[0].removeChild(s)}catch(n){}}w[0].innerHTML="",w.remove()}"function"==typeof p.end[i]&&p.end[i](),delete p.end[i]};w.data("isOutAnim")&&w.addClass("layer-anim "+c),j("#layui-layer-moves, #layui-layer-shade"+i).remove(),6==q.ie&&p.reselect(),p.rescollbar(i),w.attr("minLeft")&&(p.minIndex--,p.minLeft.push(w.attr("minLeft"))),q.ie&&q.ie<10||!w.data("isOutAnim")?l():setTimeout(function(){l()},200)}},q.closeAll=function(a){j.each(j("."+k[0]),function(){var e=j(this),c=a?e.attr("type")===a:1;c&&q.close(e.attr("times")),c=null})};var h=q.cache||{},d=function(a){return h.skin?" "+h.skin+" "+h.skin+"-"+a:""};q.prompt=function(i,y){var c="";if(i=i||{},"function"==typeof i&&(y=i),i.area){var w=i.area;c='style="width: '+w[0]+"; height: "+w[1]+';"',delete i.area}var x,r=2==i.formType?'<textarea class="layui-layer-input"'+c+">"+(i.value||"")+"</textarea>":function(){return'<input type="'+(1==i.formType?"password":"text")+'" class="layui-layer-input" value="'+(i.value||"")+'">'}(),n=i.success;return delete i.success,q.open(j.extend({type:1,btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],content:r,skin:"layui-layer-prompt"+d("prompt"),maxWidth:m.width(),success:function(a){x=a.find(".layui-layer-input"),x.focus(),"function"==typeof n&&n(a)},resize:!1,yes:function(a){var e=x.val();""===e?x.focus():e.length>(i.maxlength||500)?q.tips("&#x6700;&#x591A;&#x8F93;&#x5165;"+(i.maxlength||500)+"&#x4E2A;&#x5B57;&#x6570;",x,{tips:1}):y&&y(e,a,x)}},i))},q.tab=function(f){f=f||{};var l=f.tab||{},i="layui-this",c=f.success;return delete f.success,q.open(j.extend({type:1,skin:"layui-layer-tab"+d("tab"),resize:!1,title:function(){var o=l.length,r=1,n="";if(o>0){for(n='<span class="'+i+'">'+l[0].title+"</span>";r<o;r++){n+="<span>"+l[r].title+"</span>"}}return n}(),content:'<ul class="layui-layer-tabmain">'+function(){var o=l.length,r=1,n="";if(o>0){for(n='<li class="layui-layer-tabli '+i+'">'+(l[0].content||"no content")+"</li>";r<o;r++){n+='<li class="layui-layer-tabli">'+(l[r].content||"no  content")+"</li>"}}return n}()+"</ul>",success:function(n){var a=n.find(".layui-layer-title").children(),e=n.find(".layui-layer-tabmain").children();a.on("mousedown",function(w){w.stopPropagation?w.stopPropagation():w.cancelBubble=!0;var r=j(this),s=r.index();r.addClass(i).siblings().removeClass(i),e.eq(s).show().siblings().hide(),"function"==typeof f.change&&f.change(s)}),"function"==typeof c&&c(n)}},f))},q.photos=function(C,x,c){function z(a,o,f){var l=new Image;return l.src=a,l.complete?o(l):(l.onload=function(){l.onload=null,o(l)},void (l.onerror=function(n){l.onerror=null,f(n)}))}var B={};if(C=C||{},C.photos){var w=C.photos.constructor===Object,i=w?C.photos:{},D=i.data||[],e=i.start||0;B.imgIndex=(0|e)+1,C.img=C.img||"img";var E=C.success;if(delete C.success,w){if(0===D.length){return q.msg("&#x6CA1;&#x6709;&#x56FE;&#x7247;")}}else{var A=j(C.photos),r=function(){D=[],A.find(C.img).each(function(a){var f=j(this);f.attr("layer-index",a),D.push({alt:f.attr("alt"),pid:f.attr("layer-pid"),src:f.attr("layer-src")||f.attr("src"),thumb:f.attr("src")})})};if(r(),0===D.length){return}if(x||A.on("click",C.img,function(){var a=j(this),f=a.attr("layer-index");q.photos(j.extend(C,{photos:{start:f,data:D,tab:C.tab},full:C.full}),!0),r()}),!x){return}}B.imgprev=function(a){B.imgIndex--,B.imgIndex<1&&(B.imgIndex=D.length),B.tabimg(a)},B.imgnext=function(a,f){B.imgIndex++,B.imgIndex>D.length&&(B.imgIndex=1,f)||B.tabimg(a)},B.keyup=function(a){if(!B.end){var f=a.keyCode;a.preventDefault(),37===f?B.imgprev(!0):39===f?B.imgnext(!0):27===f&&q.close(B.index)}},B.tabimg=function(a){if(!(D.length<=1)){return i.start=B.imgIndex-1,q.close(B.index),q.photos(C,!0,a)}},B.event=function(){B.bigimg.hover(function(){B.imgsee.show()},function(){B.imgsee.hide()}),B.bigimg.find(".layui-layer-imgprev").on("click",function(a){a.preventDefault(),B.imgprev()}),B.bigimg.find(".layui-layer-imgnext").on("click",function(a){a.preventDefault(),B.imgnext()}),j(document).on("keyup",B.keyup)},B.loadi=q.load(1,{shade:!("shade" in C)&&0.9,scrollbar:!1}),z(D[e].src,function(a){q.close(B.loadi),B.index=q.open(j.extend({type:1,id:"layui-layer-photos",area:function(){var f=[a.width,a.height],l=[j(g).width()-100,j(g).height()-100];if(!C.full&&(f[0]>l[0]||f[1]>l[1])){var n=[f[0]/l[0],f[1]/l[1]];n[0]>n[1]?(f[0]=f[0]/n[0],f[1]=f[1]/n[0]):n[0]<n[1]&&(f[0]=f[0]/n[1],f[1]=f[1]/n[1])}return[f[0]+"px",f[1]+"px"]}(),title:!1,shade:0.9,shadeClose:!0,closeBtn:!1,move:".layui-layer-phimg img",moveType:1,scrollbar:!1,moveOut:!0,isOutAnim:!1,skin:"layui-layer-photos"+d("photos"),content:'<div class="layui-layer-phimg"><img src="'+D[e].src+'" alt="'+(D[e].alt||"")+'" layer-pid="'+D[e].pid+'"><div class="layui-layer-imgsee">'+(D.length>1?'<span class="layui-layer-imguide"><a href="javascript:;" class="layui-layer-iconext layui-layer-imgprev"></a><a href="javascript:;" class="layui-layer-iconext layui-layer-imgnext"></a></span>':"")+'<div class="layui-layer-imgbar" style="display:'+(c?"block":"")+'"><span class="layui-layer-imgtit"><a href="javascript:;">'+(D[e].alt||"")+"</a><em>"+B.imgIndex+"/"+D.length+"</em></span></div></div></div>",success:function(f,l){B.bigimg=f.find(".layui-layer-phimg"),B.imgsee=f.find(".layui-layer-imguide,.layui-layer-imgbar"),B.event(f),C.tab&&C.tab(D[e],f),"function"==typeof E&&E(f)},end:function(){B.end=!0,j(document).off("keyup",B.keyup)}},C))},function(){q.close(B.loadi),q.msg("&#x5F53;&#x524D;&#x56FE;&#x7247;&#x5730;&#x5740;&#x5F02;&#x5E38;<br>&#x662F;&#x5426;&#x7EE7;&#x7EED;&#x67E5;&#x770B;&#x4E0B;&#x4E00;&#x5F20;&#xFF1F;",{time:30000,btn:["&#x4E0B;&#x4E00;&#x5F20;","&#x4E0D;&#x770B;&#x4E86;"],yes:function(){D.length>1&&B.imgnext(!0,!0)}})})}},p.run=function(a){j=a,m=j(g),k.html=j("html"),q.open=function(c){var f=new u(c);return f.index}},g.layui&&layui.define?(q.ready(),layui.define("jquery",function(a){q.path=layui.cache.dir,p.run(layui.$),g.layer=q,a("layer",q)})):"function"==typeof define&&define.amd?define(["jquery"],function(){return p.run(g.jQuery),q}):function(){p.run(g.jQuery),q.ready()}()}(window);